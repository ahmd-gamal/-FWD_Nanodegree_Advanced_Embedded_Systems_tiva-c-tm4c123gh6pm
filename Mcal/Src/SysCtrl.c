/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  SysCrtl.c
 *        \brief  System Clock Controller Driver
 *
 *      \details  The Driver Configure System Clock
 *                Enable CLock Gate for External Peripherals
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Std_Types.h"
#include "SysCtrl.h"
#include "Mcu_Hw.h"
#include "SysCtrl_Types.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/	

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/


/******************************************************************************
* \Syntax          : void SysCrtl_Init(void)                                      
* \Description     : initialize System Control Module by parsing the Configuration 
*                    into RCC register                                    
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                     
* \Parameters (out): None                                                      
* \Return value:   : None
*******************************************************************************/
void SysCrtl_Init(void)
{

#if   Clk_Src  == MAIN_OSCILLATOR    /*External Clock Mode Using Crystal */  
	  /*Enable Main Oscillator*/
      SYSCTRL_RCC -> B.MOSCDIS = EN_MAIN_OSCILLATOR      ;
	  /*Choose Main Oscillator Clock Mode */	  
	  SYSCTRL_RCC -> B.OSCSRC  = MOSC                    ; 
	  /*Choose Crystal Frequancy */
	  SYSCTRL_RCC -> B.XTAL  = CRYSTAL_VALUE             ;
      /*Clock Validation for MOSC */	  
	  SYSCTRL_MOSCCTL -> B.CVAL  = CLOCK_VALIDATION_EN   ;
	  
#elif Clk_Src  == PRECISION_INTERNAL_OSCILLATOR  /*Internal Clock Mode */
	  SYSCTRL_RCC -> B.OSCSRC  = PIOSC   ;
#elif Clk_Src  == PRECISION_INTERNAL_OSCILLATOR_4 /*Internal Clock Mode */
      SYSCTRL_RCC -> B.OSCSRC  = PIOSC_4 ;
#elif Clk_Src  == LOW_FREQUANCY_INTERNAL_OSCILLATOR /*Internal Clock Mode Whith Low Frequancy */
      SYSCTRL_RCC -> B.OSCSRC  = LFIOSC  ;
#else
	#error
#endif
}

/**********************************************************************************************************************
 *  END OF FILE: SysCrtl.c
 *********************************************************************************************************************/







  





